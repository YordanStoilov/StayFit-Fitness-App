<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>StayFit</title>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="static/styles.css" />
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <nav
          class="navbar navbar-expand-md navbar-dark bg-dark fixed-top mx-auto d-flex"
        >
          <div class="btn-group dropend bg-dark" style="padding-left: 2vw">
            <button type="button" class="btn btn-dark">
              <a class="navbar-brand" href="/">StayFit</a>
            </button>
            <button
              type="button"
              class="btn btn-dark dropdown-toggle dropdown-toggle-split"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <span class="visually-hidden">Toggle Dropend</span>
            </button>
            {% if session["user_id"] %}
            <ul class="dropdown-menu dropdown-menu-dark bg-dark">
              <li>
                <a class="dropdown-item" href="/profile">Profile</a>
              </li>
              <li>
                <a class="dropdown-item" href="/workouts">Search Workouts</a>
              </li>
              <li>
                <a class="dropdown-item" href="/health_test">Health Test</a>
              </li>
              <li>
                <a class="dropdown-item" href="/motivated">Get Motivated</a>
              </li>
              <li><hr class="dropdown-divider" /></li>
              <li>
                <a class="dropdown-item" href="/logout">
                  <button class="btn btn-sm btn-danger">Log out</button>
                </a>
              </li>
            </ul>
            {% else %}
            <ul class="dropdown-menu dropdown-menu-dark bg-dark">
              <li>
                <a class="dropdown-item disabled" href="/profile">Profile</a>
              </li>
              <li>
                <a class="dropdown-item disabled" href="/workouts"
                  >Search Workouts</a
                >
              </li>
              <li>
                <a class="dropdown-item disabled" href="/health_test"
                  >Health Test</a
                >
              </li>
              <li>
                <a class="dropdown-item disabled" href="/motivated"
                  >Get Motivated</a
                >
              </li>
              <li><hr class="dropdown-divider disabled" /></li>
              <li>
                <a class="dropdown-item disabled" href="/logout">
                  <button class="btn btn-sm btn-secondary">Log out</button>
                </a>
              </li>
            </ul>
          </div>

          <div class="container-fluid">
            <a class="navbar-brand" href="/register" style="padding-left: 1vw"
              >Register</a
            >
            <div class="btn-group dropstart">
              <button
                class="btn btn-md btn-success dropdown-toggle"
                type="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Log in
              </button>
              <ul class="dropdown-menu" style="padding-left: 15px">
                <form
                  class="form-control-md"
                  action="/login"
                  method="post"
                  style="padding-right: 1vw"
                >
                  <li>
                    <input
                      class="dropdown-item rounded-pill"
                      type="text"
                      placeholder="Username"
                      name="username"
                      required
                    />
                  </li>
                  <li>
                    <input
                      class="dropdown-item rounded-pill"
                      type="password"
                      placeholder="Password"
                      name="password"
                      required
                    />
                  </li>
                  <li>
                    <div class="dropdown-item rounded-pill" style="padding: 0">
                      <button
                        class="btn btn-sm btn-success rounded-pill"
                        type="submit"
                        style="padding-right: 5vw; margin-top: 1vh"
                      >
                        Log In
                      </button>
                    </div>
                  </li>
                </form>
              </ul>
            </div>
          </div>
          {% endif %}
        </nav>
      </div>
    </div>
    <div class="row">
      <main class="container text-center" style="padding-top: 68px">
        {% block main %}{% endblock %}
      </main>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+0m0D5V9i5+WBVvu5k5Gm2G9FOnJ0"
      crossorigin="anonymous"
    ></script>
    <script>
      const popover = new bootstrap.Popover(".popover", {
        container: "body",
      });
    </script>
  </body>
</html>
